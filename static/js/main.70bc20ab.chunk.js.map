{"version":3,"sources":["Components/Searchbar/Searchbar.module.css","Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Loader/Loader.module.css","Components/Searchbar/Searchbar.jsx","Components/Modal/Modal.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Api/ImageApi.jsx","Loader/Loader.jsx","App.js","index.js"],"names":["module","exports","Searchbar","state","searchRequest","onChangeInput","e","setState","currentTarget","value","onSearchSubmit","event","preventDefault","props","onSubmit","toast","error","className","styles","this","SearchForm","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Modal__overlay","onClick","Modal__content","children","ImageGalleryItem","toggle","images","map","item","src","webformatURL","alt","tags","ImageGalleryItem__image","largeImageURL","uuidv4","ImageGallery","toggleModal","Button","axios","defaults","baseURL","params","key","GetImagesApi","query","a","page","get","console","log","Load","color","height","width","timeout","loader","scrollPageDown","scrollTo","top","documentElement","scrollHeight","behavior","App","showModal","pictures","loading","largeImageSrc","getData","request","then","response","status","trim","length","data","hits","Error","message","catch","finally","setSearchRequest","pageIncrement","setCurrentPictureSrc","undefined","dataset","largeimage","prevProps","prevState","autoClose","newestOnTop","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.70bc20ab.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2MzJi\",\"SearchForm\":\"Searchbar_SearchForm__3CAKx\",\"SearchForm__button\":\"Searchbar_SearchForm__button__1iUlB\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__3j47X\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1KzOz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal__overlay\":\"Modal_Modal__overlay__2GAwP\",\"Modal__content\":\"Modal_Modal__content__3qK6J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__29m-Q\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__122uA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1x0Zb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__5Gwba\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__NqYAj\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\n\nclass Searchbar extends Component {\n  state = {\n    searchRequest: \"\",\n  };\n\n  onChangeInput = (e) => {\n    this.setState({ searchRequest: e.currentTarget.value });\n  };\n\n  onSearchSubmit = (event) => {\n    event.preventDefault();\n\n    if (!this.state.searchRequest) {\n      toast.error(\"Введите данные в строку поиска\");\n      return;\n    }\n    this.setState({ searchRequest: \"\" });\n\n    this.props.onSubmit(this.state.searchRequest);\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={this.onSearchSubmit} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchForm__button}>\n            <span className={styles.SearchForm__button__label}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.onChangeInput}\n            value={this.state.searchRequest}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport { Searchbar };\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.Modal__overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal__content}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport { Modal };\n","import PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ toggle, images }) => {\n  return (\n    <>\n      {images.map(item => {\n        return (\n          <li onClick={toggle} className=\"ImageGalleryItem\" key={uuidv4()}>\n            <img\n              src={item.webformatURL}\n              alt={item.tags}\n              className={styles.ImageGalleryItem__image}\n              data-largeimage={item.largeImageURL}\n            />\n          </li>\n        );\n      })}\n    </>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  toggle: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n};\n\nexport { ImageGalleryItem };\n","import PropTypes from 'prop-types';\nimport { ImageGalleryItem } from './../ImageGalleryItem/ImageGalleryItem';\n\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, toggleModal }) => {\n  return (\n    <div>\n      <ul className={styles.ImageGallery}>\n        <ImageGalleryItem toggle={toggleModal} images={images} />\n      </ul>\n    </div>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  toggleModal: PropTypes.func.isRequired,\n};\n\nexport { ImageGallery };\n","import PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button onClick={onClick} className={styles.Button}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport { Button };\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api\";\n\nconst API_KEY = \"23598591-bbf9fc426017fbba5b00fa283\";\naxios.defaults.params = {\n  key: API_KEY,\n};\n\nconst GetImagesApi = async (query, page = 1) => {\n  try {\n    return await axios.get(\n      `/?q=${query}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`\n    );\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport { GetImagesApi };\n","import Loader from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst Load = () => {\n  return (\n    <Loader\n      type=\"MutatingDots\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={500}\n      className={styles.loader}\n    />\n  );\n};\n\nexport { Load };\n","import React, { Component } from \"react\";\nimport { Searchbar } from \"./Components/Searchbar/Searchbar\";\nimport { Modal } from \"./Components/Modal/Modal\";\nimport { ImageGallery } from \"./Components/ImageGallery/ImageGallery\";\nimport { Button } from \"./Components/Button/Button\";\nimport { GetImagesApi } from \"./Api/ImageApi\";\nimport { Load } from \"./Loader/Loader\";\nimport { ToastContainer } from \"react-toastify\";\nimport { toast } from \"react-toastify\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./App.css\";\n\nfunction scrollPageDown() {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: \"smooth\",\n  });\n}\n\nclass App extends Component {\n  state = {\n    showModal: false,\n    pictures: [],\n    searchRequest: \"\",\n    loading: false,\n    error: \"\",\n    page: 1,\n    largeImageSrc: \"\",\n    alt: \"\",\n  };\n\n  componentDidMount() {\n    this.getData(this.state.searchRequest, this.state.page);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchRequest !== this.state.searchRequest) {\n      this.setState({ pictures: [] });\n    }\n  }\n\n  getData = (request, page) => {\n    GetImagesApi(request, page)\n      .then((response) => {\n        if (response.status === 200 && this.state.searchRequest.trim().length) {\n          this.setState({\n            pictures: [...this.state.pictures, ...response.data.hits],\n          });\n\n          if (this.state.pictures.length === 0) {\n            toast.error(\"По вашему запросу - НИЧЕГО НЕ НАЙДЕНО!\");\n          }\n          scrollPageDown();\n        }\n        if (response.status === 404) {\n          throw new Error(response.message || \"pictures not exist\");\n        }\n      })\n      .catch(function (error) {\n        console.error(\"error\", error);\n      })\n      .finally(() => {\n        this.setState({ loading: false });\n      });\n  };\n\n  setSearchRequest = (request) => {\n    this.setState({ loading: true });\n    this.setState({ searchRequest: request });\n    this.getData(request, this.state.page);\n  };\n\n  pageIncrement = () => {\n    this.setState({ page: this.state.page + 1 });\n    this.getData(this.state.searchRequest, this.state.page + 1);\n    this.setState({ loading: true });\n\n    return;\n  };\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  setCurrentPictureSrc = (e) => {\n    this.setState({ showModal: !this.state.showModal });\n    if (e !== undefined) {\n      this.setState({ largeImageSrc: e.target.dataset.largeimage });\n      this.setState({ alt: e.target.alt });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <ToastContainer autoClose={2000} newestOnTop={true} />\n\n        <Searchbar onSubmit={this.setSearchRequest} />\n\n        {this.state.pictures.length !== 0 && (\n          <ImageGallery\n            toggleModal={this.setCurrentPictureSrc}\n            images={this.state.pictures}\n          />\n        )}\n\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal}>\n            <div>\n              <img src={this.state.largeImageSrc} alt={this.state.alt} />\n            </div>\n          </Modal>\n        )}\n        {this.state.loading && <Load />}\n        {this.state.pictures.length > 0 && (\n          <div className={\"container\"}>\n            <Button onClick={this.pageIncrement} />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}